

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Notes for Firewall Setup &mdash; BigchainDB Server 2.2.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Notes on NTP Daemon Setup" href="ntp-notes.html" />
    <link rel="prev" title="Generate a Key Pair for SSH" href="generate-key-pair-for-ssh.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> BigchainDB Server
          

          
          </a>

          
            
            
              <div class="version">
                2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://docs.bigchaindb.com/en/latest/index.html">← Back to All BigchainDB Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../production-nodes/index.html">Production Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networks.html">BigchainDB Networks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simple-deployment-template/index.html">Simple Deployment Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-and-test/index.html">Develop &amp; Test BigchainDB Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-reference/index.html">Settings &amp; CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http-client-server-api.html">The HTTP Client-Server API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">The Events API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers-clients/index.html">Drivers &amp; Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-models/index.html">Data Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../k8s-deployment-template/index.html">Kubernetes Deployment Template</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code-reference/index.html">Code Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Appendices</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="json-serialization.html">JSON Serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="cryptography.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="aws-setup.html">Basic AWS Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate-key-pair-for-ssh.html">Generate a Key Pair for SSH</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Notes for Firewall Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#expected-unsolicited-inbound-traffic">Expected Unsolicited Inbound Traffic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-22">Port 22</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-53">Port 53</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-80">Port 80</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-123">Port 123</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-161">Port 161</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-443">Port 443</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-9984">Port 9984</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-9985">Port 9985</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-9986">Port 9986</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-26656">Port 26656</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-26657">Port 26657</a></li>
<li class="toctree-l3"><a class="reference internal" href="#port-26658">Port 26658</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-ports">Other Ports</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ntp-notes.html">Notes on NTP Daemon Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="licenses.html">Licenses</a></li>
<li class="toctree-l2"><a class="reference internal" href="all-in-one-bigchaindb.html">Run BigchainDB with all-in-one Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="log-rotation.html">Logging and Log Rotation</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BigchainDB Server</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Appendices</a> &raquo;</li>
        
      <li>Notes for Firewall Setup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/appendices/firewall-notes.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!---
Copyright © 2020 Interplanetary Database Association e.V.,
BigchainDB and IPDB software contributors.
SPDX-License-Identifier: (Apache-2.0 AND CC-BY-4.0)
Code is Apache-2.0 and docs are CC-BY-4.0
---><div class="section" id="notes-for-firewall-setup">
<h1>Notes for Firewall Setup<a class="headerlink" href="#notes-for-firewall-setup" title="Permalink to this headline">¶</a></h1>
<p>This is a page of notes on the ports potentially used by BigchainDB nodes and the traffic they should expect, to help with firewall setup (or security group setup on cloud providers). This page is <em>not</em> a firewall tutorial or step-by-step guide.</p>
<div class="section" id="expected-unsolicited-inbound-traffic">
<h2>Expected Unsolicited Inbound Traffic<a class="headerlink" href="#expected-unsolicited-inbound-traffic" title="Permalink to this headline">¶</a></h2>
<p>The following ports should expect unsolicited inbound traffic:</p>
<ol class="simple">
<li><strong>Port 22</strong> can expect inbound SSH (TCP) traffic from the node administrator (i.e. a small set of IP addresses).</li>
<li><strong>Port 9984</strong> can expect inbound HTTP (TCP) traffic from BigchainDB clients sending transactions to the BigchainDB HTTP API.</li>
<li><strong>Port 9985</strong> can expect inbound WebSocket traffic from BigchainDB clients.</li>
<li><strong>Port 26656</strong> can expect inbound Tendermint P2P traffic from other Tendermint peers.</li>
<li><strong>Port 9986</strong> can expect inbound HTTP (TCP) traffic from clients accessing the Public Key of a Tendermint instance.</li>
</ol>
<p>All other ports should only get inbound traffic in response to specific requests from inside the node.</p>
</div>
<div class="section" id="port-22">
<h2>Port 22<a class="headerlink" href="#port-22" title="Permalink to this headline">¶</a></h2>
<p>Port 22 is the default SSH port (TCP) so you’ll at least want to make it possible to SSH in from your remote machine(s).</p>
</div>
<div class="section" id="port-53">
<h2>Port 53<a class="headerlink" href="#port-53" title="Permalink to this headline">¶</a></h2>
<p>Port 53 is the default DNS port (UDP). It may be used, for example, by some package managers when look up the IP address associated with certain package sources.</p>
</div>
<div class="section" id="port-80">
<h2>Port 80<a class="headerlink" href="#port-80" title="Permalink to this headline">¶</a></h2>
<p>Port 80 is the default HTTP port (TCP). It’s used by some package managers to get packages. It’s <em>not</em> the default port for the BigchainDB client-server HTTP API.</p>
</div>
<div class="section" id="port-123">
<h2>Port 123<a class="headerlink" href="#port-123" title="Permalink to this headline">¶</a></h2>
<p>Port 123 is the default NTP port (UDP). You should be running an NTP daemon on production BigchainDB nodes. NTP daemons must be able to send requests to external NTP servers and accept the respones.</p>
</div>
<div class="section" id="port-161">
<h2>Port 161<a class="headerlink" href="#port-161" title="Permalink to this headline">¶</a></h2>
<p>Port 161 is the default SNMP port (usually UDP, sometimes TCP). SNMP is used, for example, by some server monitoring systems.</p>
</div>
<div class="section" id="port-443">
<h2>Port 443<a class="headerlink" href="#port-443" title="Permalink to this headline">¶</a></h2>
<p>Port 443 is the default HTTPS port (TCP). Package managers might also get some packages using HTTPS.</p>
</div>
<div class="section" id="port-9984">
<h2>Port 9984<a class="headerlink" href="#port-9984" title="Permalink to this headline">¶</a></h2>
<p>Port 9984 is the default port for the BigchainDB client-server HTTP API (TCP), which is served by Gunicorn HTTP Server. It’s <em>possible</em> allow port 9984 to accept inbound traffic from anyone, but we recommend against doing that. Instead, set up a reverse proxy server (e.g. using Nginx) and only allow traffic from there. Information about how to do that can be found <a class="reference external" href="http://docs.gunicorn.org/en/stable/deploy.html">in the Gunicorn documentation</a>. (They call it a proxy.)</p>
<p>If Gunicorn and the reverse proxy are running on the same server, then you’ll have to tell Gunicorn to listen on some port other than 9984 (so that the reverse proxy can listen on port 9984). You can do that by setting <code class="docutils literal notranslate"><span class="pre">server.bind</span></code> to ‘localhost:PORT’ in the <a class="reference internal" href="../server-reference/configuration.html"><span class="doc">BigchainDB Configuration Settings</span></a>, where PORT is whatever port you chose (e.g. 9983).</p>
<p>You may want to have Gunicorn and the reverse proxy running on different servers, so that both can listen on port 9984. That would also help isolate the effects of a denial-of-service attack.</p>
</div>
<div class="section" id="port-9985">
<h2>Port 9985<a class="headerlink" href="#port-9985" title="Permalink to this headline">¶</a></h2>
<p>Port 9985 is the default port for the BigchainDB WebSocket Event Stream API.</p>
</div>
<div class="section" id="port-9986">
<h2>Port 9986<a class="headerlink" href="#port-9986" title="Permalink to this headline">¶</a></h2>
<p>Port 9986 is the default port to access the Public Key of a Tendermint instance, it is used by a NGINX instance
that runs with Tendermint instance(Pod), and only hosts the Public Key.</p>
</div>
<div class="section" id="port-26656">
<h2>Port 26656<a class="headerlink" href="#port-26656" title="Permalink to this headline">¶</a></h2>
<p>Port 26656 is the default port used by Tendermint Core to communicate with other instances of Tendermint Core (peers).</p>
</div>
<div class="section" id="port-26657">
<h2>Port 26657<a class="headerlink" href="#port-26657" title="Permalink to this headline">¶</a></h2>
<p>Port 26657 is the default port used by Tendermint Core for RPC traffic. BigchainDB nodes use that internally; they don’t expect incoming traffic from the outside world on port 26657.</p>
</div>
<div class="section" id="port-26658">
<h2>Port 26658<a class="headerlink" href="#port-26658" title="Permalink to this headline">¶</a></h2>
<p>Port 26658 is the default port used by Tendermint Core for ABCI traffic. BigchainDB nodes use that internally; they don’t expect incoming traffic from the outside world on port 26658.</p>
</div>
<div class="section" id="other-ports">
<h2>Other Ports<a class="headerlink" href="#other-ports" title="Permalink to this headline">¶</a></h2>
<p>On Linux, you can use commands such as <code class="docutils literal notranslate"><span class="pre">netstat</span> <span class="pre">-tunlp</span></code> or <code class="docutils literal notranslate"><span class="pre">lsof</span> <span class="pre">-i</span></code> to get a sense of currently open/listening ports and connections, and the associated processes.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ntp-notes.html" class="btn btn-neutral float-right" title="Notes on NTP Daemon Setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="generate-key-pair-for-ssh.html" class="btn btn-neutral float-left" title="Generate a Key Pair for SSH" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, BigchainDB Contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>